#!/bin/bash
echo "$(dirname $0)/git-check is forwarding command to /usr/bin/git"
tmp="$(dirname "$0")/$?.tmp"
if [ "$1" = "pull" ]
then
    echo -n "This is a production system. Are you sure you want to git pull? [y/N] "
    read chk
    if [ "$chk" != "y" ]
    then
        if [ "$chk" != "Y" ]
        then
            exit
        fi
    fi
fi
ws="[[:space:]]"
args=""
for arg in "$@"
do
    if [[ $arg =~ $ws ]]
    then
        arg="\"$arg\""
    fi
    args="$args $arg"
done
echo /usr/bin/git $args > $tmp
/bin/bash $tmp
rm $tmp

